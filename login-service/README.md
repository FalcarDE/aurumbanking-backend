# Login Service

## Backend

### CustomerInformationEntityModel - AurumBanking Model

The `CustomerInformationEntityModel` class represents a customer entity in the **AurumBanking** application. It is mapped to the `CustomerInformation` table in the database and stores detailed information about each customer.

#### Annotations

- **`@Entity`**: Marks this class as a JPA entity to be persisted in the database.
- **`@Table(name = "CustomerInformation", schema = "public")`**: Specifies the table name and schema for the entity.
- **`@Id`**: Marks the `id` field as the primary key.
- **`@GeneratedValue`**: Specifies that the `id` will be automatically generated by the database.
- **`@Column`**: Customizes the mapping of entity attributes to database columns.

#### Fields

- **`id: Long`**  
  The unique identifier for the customer (primary key).

- **`firstname: String`**  
  The first name of the customer.

- **`lastname: String`**  
  The last name of the customer.

- **`birthDate: Date`**  
  The date of birth of the customer.

- **`created: LocalDateTime`**  
  The timestamp when the customer was created in the system.

- **`lastestLogin: LocalDateTime`**  
  The timestamp of the customer's most recent login.

- **`streetName: String`**  
  The street address of the customer.

- **`housenumber: String`**  
  The house number of the customer’s address.

- **`city: String`**  
  The city where the customer resides.

- **`country: String`**  
  The country of the customer.

- **`username: String`**  
  The username used for logging into the system.

- **`email: String`**  
  The customer's email address.

- **`phoneNumber: String`**  
  The customer’s phone number.

- **`password: String`**  
  The account password. (Should be hashed for security.)

- **`profileImage: ByteArray?`**  
  An optional field for storing the customer’s profile image as a byte array.

#### Considerations

- **Security**: The password field stores plain text passwords. In a production environment, it is essential to store passwords securely using hashing and salting.
- **Late Initialization**: Most fields are marked with `lateinit`, which means they must be initialized before being accessed.

---

### CustomerIdDTO - AurumBanking Model

The `CustomerIdDTO` is a simple data transfer object (DTO) that carries the customer ID.

#### Fields

- **`id: Long`**  
  The unique identifier of the customer.

#### Purpose

This DTO is typically used for responses that only require the customer ID, such as when a new customer is created, and their ID is returned to the client.


### CustomerCredentialsRepository - AurumBanking Repository

The `CustomerCredentialsRepository` is a repository class that extends the Quarkus `PanacheRepository` to manage customer credentials in the **AurumBanking** application. It interacts with the `CustomerInformationEntityModel` to perform database operations related to customer authentication.

#### Key Methods

- **`checkCustomerCredentials(email: String, password: String): Uni<CustomerIdDTO>`**
- **Purpose**: This method checks the customer's credentials (email and password) against the database.
- **Description**:
- It executes a query to find the `id` of a customer with the matching email and password.
- The result is projected into a `CustomerIdDTO`, which contains only the customer's ID.
- **Return Type**: Returns a `Uni<CustomerIdDTO>` from **SmallRye Mutiny**, ensuring asynchronous and non-blocking behavior. If a match is found, the customer's ID is returned; otherwise, it returns `null`.

#### Considerations

- **Security**: Passwords are compared as plain text, which may pose a security risk. In a production environment, ensure that passwords are securely hashed and verified accordingly.
- **Reactive Programming**: The method returns a `Uni`, which allows for non-blocking and reactive execution. This is crucial for maintaining performance in highly scalable systems.

#### Usage

This repository is typically used for authenticating users during login, ensuring that the provided credentials match the records in the database.
