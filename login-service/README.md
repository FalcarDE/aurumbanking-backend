# Login Service

## Frontentd


### Login Screen in AurumBanking App
<div style="display: flex; justify-content: center; align-items: center;">

    <figure style="margin: 0 20px; text-align: center;">
        <img src="../images/login-service/login-screen.png" width="40%">
        <figcaption>Screenshot of the main support view</figcaption>
    </figure>

    <figure style="margin: 0 20px; text-align: center;">
        <img src="../images/login-service/login-screen-wrong-credentials.png" width="40%">
        <figcaption>Screenshot of the main support view</figcaption>
    </figure>

</div>

The **Login Screen** in the **AurumBanking** app provides users with a simple interface to enter their email and password for authentication.

#### Screen Elements

- **Penguin Mascot**: A friendly penguin mascot is displayed prominently at the top of the screen, providing a welcoming visual.
- **Email Field**: A text input field where the user can enter their email address.
- **Password Field**: A password input field where the user can enter their account password. The password is masked for security.
- **Login Button**: A button labeled "Login" that submits the email and password for authentication.


#### Behavior

- **Successful Login**: If the user enters the correct email and password, they are authenticated and redirected to the app's main screen.

- **Failed Login**: If the user enters incorrect login credentials, a small error message is displayed at the bottom of the screen, informing the user that their credentials are incorrect. The message helps guide the user to try again with the correct information.

#### Error Handling

- **Incorrect Credentials**: When the login attempt fails due to incorrect email or password, a small, clear error message is shown to the user below the login fields, helping them understand the issue and try again.

## Backend

### CustomerInformationEntityModel - AurumBanking Model

The `CustomerInformationEntityModel` class represents a customer entity in the **AurumBanking** application. It is mapped to the `CustomerInformation` table in the database and stores detailed information about each customer.

#### Annotations

- **`@Entity`**: Marks this class as a JPA entity to be persisted in the database.
- **`@Table(name = "CustomerInformation", schema = "public")`**: Specifies the table name and schema for the entity.
- **`@Id`**: Marks the `id` field as the primary key.
- **`@GeneratedValue`**: Specifies that the `id` will be automatically generated by the database.
- **`@Column`**: Customizes the mapping of entity attributes to database columns.

#### Fields

- **`id: Long`**  
  The unique identifier for the customer (primary key).

- **`firstname: String`**  
  The first name of the customer.

- **`lastname: String`**  
  The last name of the customer.

- **`birthDate: Date`**  
  The date of birth of the customer.

- **`created: LocalDateTime`**  
  The timestamp when the customer was created in the system.

- **`lastestLogin: LocalDateTime`**  
  The timestamp of the customer's most recent login.

- **`streetName: String`**  
  The street address of the customer.

- **`housenumber: String`**  
  The house number of the customer’s address.

- **`city: String`**  
  The city where the customer resides.

- **`country: String`**  
  The country of the customer.

- **`username: String`**  
  The username used for logging into the system.

- **`email: String`**  
  The customer's email address.

- **`phoneNumber: String`**  
  The customer’s phone number.

- **`password: String`**  
  The account password. (Should be hashed for security.)

- **`profileImage: ByteArray?`**  
  An optional field for storing the customer’s profile image as a byte array.

#### Considerations

- **Security**: The password field stores plain text passwords. In a production environment, it is essential to store passwords securely using hashing and salting.
- **Late Initialization**: Most fields are marked with `lateinit`, which means they must be initialized before being accessed.

---

### CustomerIdDTO - AurumBanking Model

The `CustomerIdDTO` is a simple data transfer object (DTO) that carries the customer ID.

#### Fields

- **`id: Long`**  
  The unique identifier of the customer.

#### Purpose

This DTO is typically used for responses that only require the customer ID, such as when a new customer is created, and their ID is returned to the client.


### CustomerCredentialsRepository - AurumBanking Repository

The `CustomerCredentialsRepository` is a repository class that extends the Quarkus `PanacheRepository` to manage customer credentials in the **AurumBanking** application. It interacts with the `CustomerInformationEntityModel` to perform database operations related to customer authentication.

#### Key Methods

- **`checkCustomerCredentials(email: String, password: String): Uni<CustomerIdDTO>`**
- **Purpose**: This method checks the customer's credentials (email and password) against the database.
- **Description**:
- It executes a query to find the `id` of a customer with the matching email and password.
- The result is projected into a `CustomerIdDTO`, which contains only the customer's ID.
- **Return Type**: Returns a `Uni<CustomerIdDTO>` from **SmallRye Mutiny**, ensuring asynchronous and non-blocking behavior. If a match is found, the customer's ID is returned; otherwise, it returns `null`.

#### Considerations

- **Security**: Passwords are compared as plain text, which may pose a security risk. In a production environment, ensure that passwords are securely hashed and verified accordingly.
- **Reactive Programming**: The method returns a `Uni`, which allows for non-blocking and reactive execution. This is crucial for maintaining performance in highly scalable systems.

#### Usage

This repository is typically used for authenticating users during login, ensuring that the provided credentials match the records in the database.
